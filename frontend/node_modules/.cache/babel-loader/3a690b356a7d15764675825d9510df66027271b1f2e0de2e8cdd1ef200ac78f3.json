{"ast":null,"code":"var _jsxFileName = \"/Users/chloenicola/Desktop/Closet-Project copy/frontend/src/components/RequireAuth.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RequireAuth({\n  children\n}) {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(null);\n  useEffect(() => {\n    fetch('/me', {\n      credentials: 'include'\n    }).then(res => {\n      if (res.ok) {\n        setIsAuthenticated(true);\n      } else {\n        setIsAuthenticated(false);\n      }\n    }).catch(() => setIsAuthenticated(false));\n  }, []);\n  if (isAuthenticated === null) return null; // or a loading spinner\n  if (!isAuthenticated) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 32\n  }, this);\n  return children;\n}\n_s(RequireAuth, \"ZTMIcZ3KFUL4S6fmpEYhW5p5Z1I=\");\n_c = RequireAuth;\nexport default RequireAuth;\nvar _c;\n$RefreshReg$(_c, \"RequireAuth\");","map":{"version":3,"names":["useEffect","useState","Navigate","jsxDEV","_jsxDEV","RequireAuth","children","_s","isAuthenticated","setIsAuthenticated","fetch","credentials","then","res","ok","catch","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/chloenicola/Desktop/Closet-Project copy/frontend/src/components/RequireAuth.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { Navigate } from 'react-router-dom';\n\nfunction RequireAuth({ children }) {\n  const [isAuthenticated, setIsAuthenticated] = useState(null);\n\n  useEffect(() => {\n    fetch('/me', { credentials: 'include' })\n      .then(res => {\n        if (res.ok) {\n          setIsAuthenticated(true);\n        } else {\n          setIsAuthenticated(false);\n        }\n      })\n      .catch(() => setIsAuthenticated(false));\n  }, []);\n\n  if (isAuthenticated === null) return null; // or a loading spinner\n  if (!isAuthenticated) return <Navigate to=\"/login\" />;\n\n  return children;\n}\n\nexport default RequireAuth;\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,QAAQ,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,SAASC,WAAWA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAAAC,EAAA;EACjC,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAE5DD,SAAS,CAAC,MAAM;IACdU,KAAK,CAAC,KAAK,EAAE;MAAEC,WAAW,EAAE;IAAU,CAAC,CAAC,CACrCC,IAAI,CAACC,GAAG,IAAI;MACX,IAAIA,GAAG,CAACC,EAAE,EAAE;QACVL,kBAAkB,CAAC,IAAI,CAAC;MAC1B,CAAC,MAAM;QACLA,kBAAkB,CAAC,KAAK,CAAC;MAC3B;IACF,CAAC,CAAC,CACDM,KAAK,CAAC,MAAMN,kBAAkB,CAAC,KAAK,CAAC,CAAC;EAC3C,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,eAAe,KAAK,IAAI,EAAE,OAAO,IAAI,CAAC,CAAC;EAC3C,IAAI,CAACA,eAAe,EAAE,oBAAOJ,OAAA,CAACF,QAAQ;IAACc,EAAE,EAAC;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;EAErD,OAAOd,QAAQ;AACjB;AAACC,EAAA,CAnBQF,WAAW;AAAAgB,EAAA,GAAXhB,WAAW;AAqBpB,eAAeA,WAAW;AAAC,IAAAgB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}